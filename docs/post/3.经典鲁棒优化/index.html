<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>经典鲁棒优化（Classical robust optimization） - 鲁棒优化电子书 —— 运筹OR帷幄</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="运筹OR帷幄" />
  <meta name="description" content="苏向阳 不确定性最优化（Optimization under uncertainty） 不确定优化方法 在实际生活中不确定性广泛存在，为了更加合理的对不确定问" />

  <meta name="keywords" content="Hugo, theme, jane" />






<meta name="generator" content="Hugo 0.89.4" />


<link rel="canonical" href="https://allenz-me.github.io/RoSite/post/3.%E7%BB%8F%E5%85%B8%E9%B2%81%E6%A3%92%E4%BC%98%E5%8C%96/" />





<link rel="icon" href="/RoSite/favicon.ico" />











<link rel="stylesheet" href="/RoSite/sass/jane.min.fa4b2b9f31b5c6d0b683db81157a9226e17b06e61911791ab547242a4a0556f2.css" integrity="sha256-&#43;ksrnzG1xtC2g9uBFXqSJuF7BuYZEXkatUckKkoFVvI=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="经典鲁棒优化（Classical robust optimization）" />
<meta property="og:description" content="苏向阳 不确定性最优化（Optimization under uncertainty） 不确定优化方法 在实际生活中不确定性广泛存在，为了更加合理的对不确定问" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://allenz-me.github.io/RoSite/post/3.%E7%BB%8F%E5%85%B8%E9%B2%81%E6%A3%92%E4%BC%98%E5%8C%96/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-01-07T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-01-07T00:00:00+00:00" />

<meta itemprop="name" content="经典鲁棒优化（Classical robust optimization）">
<meta itemprop="description" content="苏向阳 不确定性最优化（Optimization under uncertainty） 不确定优化方法 在实际生活中不确定性广泛存在，为了更加合理的对不确定问"><meta itemprop="datePublished" content="2022-01-07T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-01-07T00:00:00+00:00" />
<meta itemprop="wordCount" content="11088">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="经典鲁棒优化（Classical robust optimization）"/>
<meta name="twitter:description" content="苏向阳 不确定性最优化（Optimization under uncertainty） 不确定优化方法 在实际生活中不确定性广泛存在，为了更加合理的对不确定问"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/RoSite/" class="logo">主页</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://allenz-me.github.io/RoSite/"></a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://allenz-me.github.io/RoSite/post/"></a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://allenz-me.github.io/RoSite/tags/"></a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://allenz-me.github.io/RoSite/categories/"></a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://allenz-me.github.io/RoSite"></a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/RoSite/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/RoSite/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/RoSite/" class="logo">
    
      主页
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://allenz-me.github.io/RoSite/"></a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://allenz-me.github.io/RoSite/post/"></a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://allenz-me.github.io/RoSite/tags/"></a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://allenz-me.github.io/RoSite/categories/"></a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://allenz-me.github.io/RoSite"></a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">经典鲁棒优化（Classical robust optimization）</h1>
      
      <div class="post-meta">
        <time datetime="2022-01-07" class="post-time">
          2022-01-07
        </time>
        
        <span class="more-meta"> 11088 words </span>
          <span class="more-meta"> 23 min read </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#不确定性最优化optimization-under-uncertainty">不确定性最优化（Optimization under uncertainty）</a>
      <ul>
        <li></li>
        <li><a href="#鲁棒优化理论的发展">鲁棒优化理论的发展</a></li>
      </ul>
    </li>
    <li><a href="#鲁棒优化研究路线">鲁棒优化研究路线</a></li>
    <li><a href="#不确定集uncertainty-set">不确定集（Uncertainty set）</a></li>
    <li><a href="#对等式转换理论robust-counterpart">对等式转换理论（Robust counterpart）</a></li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <p>苏向阳</p>
<h2 id="不确定性最优化optimization-under-uncertainty">不确定性最优化（Optimization under uncertainty）</h2>
<h4 id="不确定优化方法">不确定优化方法</h4>
<p>在实际生活中不确定性广泛存在，为了更加合理的对不确定问题进行准确描述，不确定优化逐渐被学界重视。最早在20世纪50年代Bellman、Zadeh和Charnes等人便开始对不确定性优化进行了研究<a href="https://pubsonline.informs.org/doi/abs/10.1287/mnsc.6.1.73">(Chames and Cooper 1959)</a>。
在对不确定优化问题的描述之前，我们先来看一下传统的确定性优化问题：
$$
\begin{align}
\min &amp; f(\pmb x) \label{equation::detopt}\\\
\text {s.t.} &amp; h(\pmb x) \leq 0 \notag
\end{align}
$$
其中，$\pmb{x}$是决策向量，$f(\pmb{x})$为目标函数，$h(\pmb{x})$为约束条件。在$\eqref{equation::detopt}$中，无论是约束条件还是目标函数，其对应的参数都是确定的。然而，在实际问题求解中，模型中一些参数我们很难事先确定。对于一些特定的优化问题而言，一个参数的不同就可能导致原本所求得的最优解变得毫无意义<a href="https://dl.acm.org/doi/10.1137/S1052623496305717">(El-Ghaoui et al. 1998)</a>。为了解决这类问题，不确定性问题的优化求解就变得十分重要。</p>
<p>随着社会的不断发展，我们所需要求解模型的复杂度不断上升，模型的不确定性也在不断扩大，诸如飞机航班的线路规划、电网的最优调度、物流路径的最优规划等等。在实际生活中，造成模型不确定的根源主要来自以下几个方面：</p>
<p>1）	数据统计和采集过程造成的数据丢失、数据偏差过大而产生的影响。</p>
<p>2）	天气等不可抗力因素的干扰，对问题的分析产生的影响。</p>
<p>3）	认知不全导致现有模型与实际生活中存在偏差产生的影响。</p>
<p>4）	对于一些难以求解的非凸非线性模型，进行简化描述而产生的影响。</p>
<p>为了更好地对不确定优化问题进行描述，我们首先给出不确定性优化数学模型的一般表达：
$$
\begin{align}
\min &amp; f(\pmb{x}, \tilde{\pmb \xi}) \label{equation::uncertain opt}\\\
\text{s.t } &amp; h(\pmb{x}, \tilde{\pmb \xi}) \leq 0, \forall \tilde{\pmb \xi} \in \mathcal{U} \notag
\end{align}
$$</p>
<p>在$\eqref{equation::uncertain opt}$中，$\tilde{\pmb \xi}$为不确定参数，$\mathcal{U}$表示不确定参数的集合。为了求解模型$\eqref{equation::uncertain opt}$，以Bellman等人的工作为开端，相关学者提出了一系列的求解优化方法，诸如：随机规划<a href="https://link.springer.com/book/10.1007/978-1-4614-0237-4">(Berge and Louveaux 2011)</a>、鲁棒优化<a href="https://www2.isye.gatech.edu/~nemirovs/FullBookDec11.pdf">(Ben-tal et al. 2009)</a>、灵敏度分析<a href="https://www2.isye.gatech.edu/~nemirovs/FullBookDec11.pdf">(Ben-tal et al. 2009)</a>、模糊规划<a href="https://books.google.com.sg/books/about/%E9%9A%8F%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E6%A8%A1%E7%B3%8A%E8%A7%84%E5%88%92.html?id=iCLSUwn0GkQC&amp;redir_esc=y">(刘和赵1998)</a>等等。不确定性优化的理论和方法不断地被开发出来。不确定优化的理论也依据分析阶段的不同被分为事前分析方法和事后分析方法两大类。接下来我们主要对这两大类的不确定理论展开叙述。</p>
<h4 id="事前分析方法">事前分析方法</h4>
<p>1）	模糊规划(Fuzzy Programming)</p>
<p>当$\mathcal{U}$是一个模糊逻辑集合时，模型$\eqref{equation::uncertain opt}$成为了处理软约束\footnote{指约束条件中，等式或不等式两边含有模糊集合，因而不能像精确数学里一样判定等式成立或者不成立。}规划问题的求解模型，即模糊规划。这类规划是为了应对由于实际生活中，有时无法提供准确的决策的情况下而产生的一类规划求解理论。对于模糊规划问题的详细求解步骤，可以参照文献<a href="https://books.google.com.sg/books/about/%E9%9A%8F%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E6%A8%A1%E7%B3%8A%E8%A7%84%E5%88%92.html?id=iCLSUwn0GkQC&amp;redir_esc=y">(刘和赵1998)</a>。在模糊规划中，需要依据决策者的个人经验来获取不确定参数的模糊隶属函数，往往存在较大的主观性，在实际中运用的刚才在也需要经过多次调整，存在诸多限制。</p>
<p>2）	随机规划(Stochastic Optimization)</p>
<p>当$\mathcal{U}$是一个随机不确定集合时，上述模型成为了处理随机性数据的规划求解问题，即随机规划。随机规划根据不同的决策规则，可以分为三类：</p>
<p>1.期望模型。首先确定不确定参数的分布模型，然后通过选取离散或连续的概率分布函数对不确定参数进行描述，最终通过期望来代替不确定参数，使不确定问题转化为确定性问题并求解。如果目标函数和约束中存在随机参数，只需要将各随机参数转化为期望值，便可以将模型转化为确定性模型进而求解。</p>
<p>2.机会约束规划模型。通俗来讲，机会约束规划模型是指允许决策不满足约束条件，但是决策满足约束条件的概率不低于事先设定的置信水平的规划求解模型。该模型的是指在一定概率下达到最优的理论。该模型需要事先给定置信水平。模型描述如下：
$$
\begin{align}
\min &amp; f(\pmb{x}) \label{equation::chance opt}\\\
\text {s.t.} &amp; \mathbb{P}[\pmb{h}(\pmb{x}, \tilde{\pmb \xi}) \leq 0)] \geq \alpha \notag
\end{align}
$$
3.相关机会约束规划模型<a href="https://www.sciencedirect.com/science/article/pii/S089812219700237X">(Liu 1997)</a>。相关机会约束规划是当决策者面临多个事件时，希望最大化满足这些事件的概率而产生的一种规划方法。无论是期望模型还是机会约束规划模型，最终都是确定性优化求解并得出准确值。相关机会规划虽然求解结果是确定的，但并不代表一定实现，规划的目的是极大化该事件的实现概率。</p>
<h4 id="事后分析方法">事后分析方法</h4>
<p>灵敏度分析（Sensitivity Analysis）是最典型的事后分析方法。灵敏度分析根据需求的不同也被划分为局部灵敏度分析(Local sensitivity analysis)和全局灵敏度分析(Global sensitivity analysis)。这里以模型$\eqref{equation::LP model}$为例对灵敏度分析展开一个简短的描述：</p>
<p>$$
\begin{align}
Z = \min &amp; \pmb{c}^\prime\pmb{x} \label{equation::LP model}\\\
\text {s.t} &amp;\pmb{A x} = \pmb{b} \notag \\\
&amp; \pmb{x} \geq \mathrm{0} \notag
\end{align}
$$
由于灵敏度分析应对的是不确定优化问题，因此有时会遇到需要添加新约束的情况。这种情况下，如果最优解满足新添加的约束，则原模型的最优解仍是新模型的最优解，若不满新添加的约束，则需要重新计算。但更多的研究内容是数据变化对最优解产生的影响。即：$\pmb A$、$\pmb c$和$\pmb b$变化导致模型最优值$Z$发生的改变。灵敏度分析研究热点问题是，当参数在什么范围内进行波动时，模型的最优解$\pmb{x}^{*}$不会发生改变，具体的原理涉及到了基变量、非基变量、对偶单纯性等相关知识，这里不再详细描述，如果有兴趣的读者可以参考<a href="https://www.worldcat.org/title/zui-you-hua-li-lun-yu-suan-fa/oclc/62721683">陈宝林 2005</a>。灵敏度分析方法虽然相对其他不确定优化方法而言比较简单，但灵敏度分析方法仅是一个评价分析工具，大大限制了该方法的使用领域。</p>
<h4 id="鲁棒优化robust-optimization">鲁棒优化（Robust Optimization）</h4>
<p>鲁棒优化也是一类事前分析方法，之所以单独列出来，是因为鲁棒优化是针对传统优化方法不足，由鲁棒控制理论发展而来替代随机规划和灵敏度分析的方法。在$\eqref{equation::uncertain opt}$中，如果$\mathcal{U}$是一个有界闭集，上述模型成为了处理不确定集合内所有不确定参数的优化问题，即鲁棒优化。相对于传统不确定优化方法，鲁棒优化有如下优点：</p>
<ol>
<li>鲁棒优化在建模过程中充分考虑了不确定性，并以集合的形式对变量进行描述。相对于随机规划和模糊规划，鲁棒优化不需要不确定参数的分布模型和不确定参数的模糊隶属函数。</li>
<li>鲁棒优化的约束条件是严格成立的，即只要不确定参数$\tilde{\pmb \xi}$属于不确定集合$\mathcal{U}$，所求出的解都能满足约束条件。即优化模型具有较强的鲁棒性，最优解对参数变化的敏感性低。</li>
</ol>
<p>鲁棒优化虽然有着随机规划和模糊规划没有的优势，但是鲁棒优化模型本身是一个半无限优化问题，很难直接进行求解，鲁棒优化的计算结果受限于不确定集$\mathcal{U}$的不同。我们会在3.2小节和3.3小节分别对鲁棒优化中的不确定集$\mathcal{U}$和鲁棒优化对等式及转换理论进行阐述。</p>
<h3 id="鲁棒优化理论的发展">鲁棒优化理论的发展</h3>
<p>1973年，Soyster首次用鲁棒优化的思想来解决线性规划中的不确定性<a href="https://pubsonline.informs.org/doi/abs/10.1287/opre.21.5.1154">(Soyster 1973)</a>。虽然该方法基于最坏情况的基础上进行考虑，结果过于保守。但是Soyster为不确定优化的发展开拓了全新的思路，开辟了鲁棒优化发展的道路。</p>
<p>Mulvey等人在1995年首次提出鲁棒优化的概念<a href="https://pubsonline.informs.org/doi/10.1287/opre.43.2.264">(Mulvey et al. 1995)</a>。他们给出了基于情景集鲁棒优化的一般模型框架，提出了解鲁棒（Solution robust）和模型鲁棒（Model robust）的概念，通过将目标函数拆分为聚合函数与罚函数来消除不确定参数对结果的影响。在此之后，不断有学者投入到鲁棒优化的研究中，在这方面的奠基之作是在20世纪90年代由以色列学者<a href="https://pubsonline.informs.org/doi/10.1287/moor.23.4.769">Ben-tal and Nemirovski 1998</a> <a href="https://www.sciencedirect.com/science/article/abs/pii/S0167637799000164">Ben-tal and Nemirovski 1999</a>和美国伯克利大学的<a href="https://people.eecs.berkeley.edu/~elghaoui/Pubs/rob-ls.pdf">El-Ghaoui and Lebret 1997</a>提出。Ben-Tal证明了如果不确定集合$\mathcal{U}$是一个椭球不确定集（后面具体介绍），那么对于一些最重要的一般凸优化问题(线性规划、二次约束规划、半定规划等)，其鲁棒对等式要么是精确的，要么近似是一个可处理的问题，可以采用诸如内点法的算法在多项式时间内求解。除此之外，Ben-Tal给出了一般不确定半定规划问题的计算可处理的近似鲁棒对等式。在此之后，Ben-Tal等人又提出了可调鲁棒优化概念等概念，并被广泛运用到各行各业中。</p>
<p>21世纪初，<a href="https://pubsonline.informs.org/doi/abs/10.1287/opre.1030.0065?journalCode=opre">(Bertsimas and Sim 2004)</a>在Soyster、Ben-Tal和Nemirovski的研究基础上提出了全新的鲁棒优化框架。Bertsimas和Sim的鲁棒优化涵盖了离散优化，最主要的特点是所建立的鲁棒对等式不增加问题求解的复杂度。另一方面，Bertsimas和Sim的鲁棒优化允许出现约束违背(Constraint Violation)的情况，在这种情况下得到的鲁棒解大概率具有可行性。Bertsimas和Sim的理论由于其易处理性及实用性，受到了学界的广泛认可。</p>
<h2 id="鲁棒优化研究路线">鲁棒优化研究路线</h2>
<p>鲁棒优化自提出以来便受到广泛关注，也不断地被各个领域的学者应用到各行各业中，对于鲁棒优化问题的求解思路也是大同小异。具体如下：</p>
<p><img src="/image/123.png" alt="alt"></p>
<p><strong>鲁棒优化研究路线</strong></p>
<p>在前面我们已经提到，当模型$\eqref{equation::uncertain opt}$中的不确定集合为闭集合时，$\eqref{equation::uncertain opt}$可以视为一个鲁棒优化模型。此时，目标函数和约束条件中均含有不确定参数，为了更通俗地描述，我们对$\eqref{equation::uncertain opt}$做一些变形：</p>
<p>$$
\begin{align}
\min &amp; F  \label{Ro transform}\\\
\text {s.t. }&amp; f(\pmb{x}, \tilde{\pmb \xi}) \leq F &amp;&amp; \forall \tilde{\pmb \xi} \in U \notag \\\
&amp;\pmb{h}(\pmb{x}, \tilde{\pmb \xi}) \leq 0 &amp;&amp; \forall \tilde{\pmb \xi} \in U \notag
\end{align}
$$
转换后可以明显看出(应注意转换是否等价，具体参照第二章)，无论原鲁棒优化模型的目标函数是线性还是非线性，是否含不确定参数，都可以由$\eqref{Ro transform}$表示。但是模型$\eqref{Ro transform}$通常很难直接求解，为了方便求解我们需要通过数学优化理论将模型$\eqref{Ro transform}$转换为一个多项式时间内可以求解的凸优化问题，即<strong>鲁棒对等问题</strong>(Robust Counterpart)。</p>
<p>目前，鲁棒优化的研究方向主要体现在不确定集合的选取及鲁棒对等转换理论上：</p>
<ol>
<li>
<p>不确定集合的选取。如何选取合适的不确定集合对不确定参数进行准确的描述，直接影响了模型的优化结果，而且不同的不确定集合所对应的鲁棒对等问题也不同。</p>
</li>
<li>
<p>鲁棒对等转换理论。如何把已经构建好的鲁棒优化模型转化成一个可以在多项式时间内求解的模型，直接影响了优化时间和优化结果。</p>
</li>
</ol>
<h2 id="不确定集uncertainty-set">不确定集（Uncertainty set）</h2>
<p>鲁棒优化中，不同的不确定集合对结果影响十分明显，当不确定集合越精细模型复杂度越高，求解越困难。当不确定集合越宽泛时，所求出的最优解越保守，越不经济。为了权衡二者的关系，如果选择一个适合的不确定集合一直是相关学者的一个研究热点。常见的不确定集合主要有如下几类:</p>
<p>1.盒式不确定集合（Box Uncertainty Set）</p>
<p>$$
U_{\infty}=\{\tilde{\pmb \xi} :|\tilde{\pmb \xi}|_{\infty} \leq \tau\}=\{\tilde{\pmb \xi} :\left|\tilde{\pmb \xi}_{i}\right| \leq \tau\}
$$</p>
<p>盒式不确定集合是最简单的不确定集合，也被称作区间集。由于鲁棒优化是考虑极端情况下的优化求解方法，对于一些模型可能会出现所有不确定参数都在区间集上下界进行优化的情况，然而实际中该情况发生的概率极低或不会发生，很出现过度保守的情况。</p>
<p>2.椭球不确定集（Ellipsoidal Uncertainty Set）<a href="https://www2.isye.gatech.edu/~nemirovs/FullBookDec11.pdf">(Ben-tal et al. 2009</a>, <a href="https://web.stanford.edu/~boyd/cvxbook/">Boyd and Vandenberghe)</a>：椭球集/椭球交集
$$
\begin{align}
U_{2}=\{\tilde{\pmb \xi} :|\tilde{\pmb \xi}|_{2} \leq \Omega\}=\{\tilde{\pmb \xi} : \sum \tilde{\xi}_{i}^{2} \leq \Omega^{2}\} \label{uncertainty set ellipsoid}
\end{align}
$$
$$
\begin{align}
U_{2}&amp;=\{\tilde{\pmb \xi} :(\tilde{\pmb \xi}-\overline{\pmb{u}})^{T} R^{-1}(\tilde{\pmb \xi}-\overline{\pmb{u}}) \leq \Omega^{2}\} \label{uncertainty set ellipsoid 1}
\end{align}
$$</p>
<p>在Ben-tal的经典著作《Robust Optimization》称式$\eqref{uncertainty set ellipsoid}$为椭球不确定集合，式(3.8)为椭球交集不确定集合。在Boyd的经典著作《convex optimization》中称$\eqref{uncertainty set ellipsoid 1}$为椭球集，$\eqref{uncertainty set ellipsoid}$为退化的椭球。为了方便描述，本文以Ben-tal的描述为准。上述公式中，$\tilde{\pmb \xi}$ 为不确定参数向量，$\overline{\pmb{u}}$为不确定参数的期望或预测值向量，$R$为协方差矩阵，$\Omega$为不确定度，用以刻画不确定参数扰动范围。相对于椭球集，椭球交集能更准确地对不确定参数进行描述，但是椭球交集在求解二次优化问题、锥二次优化、半定规划问题时难以直接求解，Ben-tal已经证明了这些优化问题中使用椭球交集时是NP-hard问题。如果采用椭球集，在线性规划、二次优化问题和锥二次优化时可以转化为可处理问题，但是在半定规划中，仍需满足诸多限制才能求解。椭球不确定集虽然可以很好地表示很多类型集合，方便数据输入，在一定程度上可以体现不确定参数之间的关联性。但是椭球不确定集会增加问题求解的复杂度，因此应用不够广泛。</p>
<p>3.多面体不确定集（Polyhedral Uncertainty Set）</p>
<p>$$
U_{1}=\{\tilde{\pmb \xi} :|\tilde{\pmb \xi}|_{1} \leq \Gamma,|\tilde{\pmb \xi}| \leq e\}=\{\tilde{\pmb \xi} : \sum\left| \tilde{\xi}_{i}\right| \leq \Gamma,|\tilde{\pmb \xi}| \leq e\}
$$
多面体集合<a href="https://pubsonline.informs.org/doi/10.1287/educ.1063.0022">(Bertsimas and Thiele 2006)</a>可以看作是椭球集合的一种特殊表现形式<a href="https://www.sciencedirect.com/science/article/abs/pii/S0167637799000164">(Ben-tal and Nemirovski 1999)</a>。尽管多面体不确定集难以刻画不确定参数间的相关性，但其具有线性结构、易于控制不确定度，在实际工程问题中广受青睐<a href="https://pubsonline.informs.org/doi/10.1287/educ.1063.0022">(Bertsimas and Thiele 2006)</a>。</p>
<p>4.基数/预算不确定集（Budget uncertainty Set）</p>
<p>$$
U_{1}=\{\tilde{\pmb \xi} : \sum \left| \frac{\xi_i-\widehat{\xi_i}}{\overline{\xi_i}-\underline{\xi_i}} \right| \leq \Gamma,| \pmb{\xi} | \leq e\}
$$
式中，$\overline{\xi_{i}}，\underline{\xi_{i}}$分别表示不确定参数的上下界，$\widehat{\xi_{i}}$表示$\xi_{i}$的预测值。最先提出这种不确定集合的是<a href="https://pubsonline.informs.org/doi/abs/10.1287/opre.1030.0065?journalCode=opre">Bertsimas and Sim 2004</a>，由于这种不确定集合是基于不确定参数偏移量的相对值进行构建的，能够对更精确描述参数的波动情况，因此也被称为基数不确定集<a href="http://www.optimization-online.org/DB_FILE/2010/10/2769.pdf">(Jiang et al. 2010</a><a href="https://ieeexplore.ieee.org/document/7944676">Baringo and Baringo 2017</a> <a href="https://www.jstor.org/stable/23070141">Bertsimas et al. 2010)</a>。</p>
<p>5.数据驱动不确定集（Data-driven Uncertainty Set）</p>
<p>无论是采用盒式还是椭球式不确定集合，都会出现所得到的解过于保守的情况，为了解决解的过度保守，一些学者根据历史数据进行不确定集合的构造，也被称为数据驱动不确定集合。数据驱动不确定集合的构建，是使用统计假设检验的置信区间来精确描述不确定参数 的分布 。在04年Bertsimas、Sim和09年Ben-Tal等人的研究中，假定不确定参数为 ，其分布 不能精确获得。最初始的研究是基于数据结构特性做出的先验假设。这些方法假设 是没有依赖的，但是不会认为 的边界分布是确定的。在13年Bertsimas对数据驱动不确定集合的构造进行了进一步的改进。Bertsimas假设数据S有独立分布，这些S可以为不确定参数的分布 添加更多的细节。并且通过这些细节信息，设计一个概率保证的集合，相对于传统的集合，新的集合更小，所求出的结果也不是那么的精确。关于数据驱动的先验假设和假设检验可以参照<a href="https://link.springer.com/article/10.1007/s10107-017-1125-8">Bertsimas et al. 2018</a>的研究。</p>
<p>除去以上常见的不确定集合，一些学者为了适应不同的情况以及更精确地对不确定参数进行描述，还衍生出了很多种组合不确定集合，具体如：盒式+椭球式不确定集、盒式+多面体不确定集、盒式+椭球式+多面体不确定集等等。</p>
<h2 id="对等式转换理论robust-counterpart">对等式转换理论（Robust counterpart）</h2>
<p>前文我们已经提到，鲁棒优化是一个半无限优化问题，通常情况下很难直接求解。为了对鲁棒优化问题进行求解，我们需要对原模型做出一定程度的转化，转化后模型需要在多项式时间内可以求解。在这方面做出重要突破的学者有Soyster、Ben-tal、Bertsimas和Sim等。Soyster提出用线性优化模型求解问题，并使用凸集内所有数据，但该方法存在过于保守的弊端。Ben-tal和Nemirovski、Bertsimas和Sim在Soyster的基础上进行了改进，使得鲁棒优化适用性更广。接下来我们分别对这些理论进行描述。</p>
<p>1.Soyster的鲁棒对等模型</p>
<p>尽管Soyster的线性优化模型前文已经提到，但是这里为了方便描述，再次给出Soyster考虑的线性优化问题：
$$
\begin{align}
\max &amp;\pmb{c^\prime} \pmb{x} \label{Soyster}\\\
\text {s.t.} &amp;\pmb{A x} \leq \pmb{b} \notag\\\
&amp;\pmb{l} \leq \pmb{x} \leq \pmb{u}\notag
\end{align}
$$
Soyster假设不确定参数只出现在矩阵A中，且不确定性对矩阵A中各列元素互不影响。令$\xi_{i j}=\left(\tilde{a}_{i j}-a_{i j}\right) / \hat{a}_{i j}$为[-1,1]对称分布的随机变量，其中$\tilde{a}_{i j} \in\left[\pmb{a}_{i j}-\hat{a}_{i j}, a_{i j}+\hat{a}_{i j}\right]$为随机变量，$\hat{\pmb{a}}_{i j}$为波动范围，其鲁棒对等式如下：
$$
\begin{align}
\max  &amp;\pmb{c^\top} \pmb{x}&amp; \label{Soyester counterpart}\\\
\text {s.t.} &amp;\sum_{j} a_{ij} x_{j}+\sum_{j \in J} \tilde{a}_{ij} y_{j} \leq b_{i} &amp; \forall i \notag\\\
&amp;\pmb{1} \leq \pmb{x} \leq \pmb{u} &amp;\notag\\\
&amp;-y_{j} \leq x_{j} \leq y_{j} &amp; \forall j \notag\\\
&amp;\pmb{y} \geq 0&amp; \notag
\end{align}
$$
公式$\eqref{Soyester counterpart}$的详细推导如下：</p>
<p>对比公式$\eqref{Soyster}$和公式$\eqref{Soyester counterpart}$，主要区别在于第一条约束，推导如下：</p>
<p>$$
\begin{align}
\sum_{j} \tilde{a}_{i j} x_{j} &amp;=\sum_{j: x_{j} \geq 0}\left(a_{i j}+\hat{a}_{i j}\right) x_{j}+\sum_{j: x_{j}&lt;0}\left(a_{i j}-\hat{a}_{i j}\right) x_{j} \notag\\\
&amp;=\sum_{j} a_{i j} x_{j}+\sum_{j: x_{j} \geq 0} \hat{a}_{i j} x_{j}-\sum_{j: x_{j}&lt;0} \hat{a}_{i j} x_{j} \notag\\\
&amp;=\sum_{j} a_{i j} x_{j}+\sum_{j} a_{i j}\left|x_{j}\right| \notag
\end{align}
$$</p>
<p>令$y=|x|$即可由公式$\eqref{Soyster}$推导至公式$\eqref{Soyester counterpart}$。
$J$表示不确定参数所在的列。假设最优解为$\pmb{x^{*}}$，则<br>
$$
\sum_{j} \tilde{a}_{i j} x_{j}^{*}=\sum_{j} a_{i j} x_{j}^{*}+\sum_{j} \xi_{i j} \hat{a}_{i j} x_{j}^{*} \leq \sum_{j} a_{i j} x_{j}+\sum_{j} \tilde{a}_{i j} y_{j} \leq b_{j}
$$
由上式我们可以看出，$\sum_{j} \tilde{\pmb{a}}_{i j} x_{j}^{*}$和$\pmb{b}$之间存在明显间隙，这样的处理，会使得当求解极大化问题时，目标函数过小。求解极小化问题时，目标函数过大，求解结果过于保守。</p>
<ol start="2">
<li>Ben-tal和Nemirovski鲁棒对等模型</li>
</ol>
<p>对于模型$\eqref{Soyster}$，Ben-tal和Nemirovski提出了不同的求解思路，鲁棒对应模型如下：
$$
\begin{align}
\max &amp;\quad\pmb{c^\prime} \pmb{x} \label{BenNemirovski}\\\
\text {s.t.} &amp;\quad\sum_{j} a_{i j} x_{j}+\sum_{j \in J} \tilde{a}_{ij} y_{j}+\Omega_{i} \sqrt{\sum_{j \in J}\left(\hat{a}_{i j}^{2} x_{j}^{2}\right)} \leq b_{i} \forall i \notag\\\
&amp;\quad{\pmb{1} \leq \pmb{x} \leq \pmb{u}} \notag \\\
&amp;\quad{-y_{j} \leq x_{j} \leq y_{j}} \forall j \notag\\\
&amp;\quad{\pmb{y} \geq 0} \notag
\end{align}
$$</p>
<p>因为随机变量对称分布，所以Ben-tal和Nemirovski采用随机变量的期望和方差来进行替换相关约束问题。$\eqref{BenNemirovski}$中$\Omega$大于0，需要事先给定。我们可以明显看出，模型$\eqref{Soyester counterpart}$的可行解是模型$\eqref{BenNemirovski}$可行解的子集。因此，Ben-tal和Nemirovski的方法保守度更低一点，同时可以通过对$\Omega$的调整来改变问题的保守度。但是模型$\eqref{BenNemirovski}$不再是线性规划，模型求解困难度上升，这也是Ben-tal和Nemirovski鲁棒优化的不足之处。</p>
<p>Ben-tal和Nemirovski的方法虽然能降低模型的保守程度，但是并不能求解离散优化，针对这一痛点，Bertsimas和Sim提出了一种全新的鲁棒架构<a href="https://pubsonline.informs.org/doi/abs/10.1287/opre.1030.0065?journalCode=opre">Bertsimas and Sim 2004</a></p>
<ol start="3">
<li>Bertsimas和Sim鲁棒对等模型</li>
</ol>
<p>Bertsimas和Sim通过引入参数$\Gamma_{i}$来调节模型的保守程度，$\Gamma_{i} \in\left[0,\left|J_{i} |, \quad\right| J_{i} |\right.$表示第i行共有多少列元素是不确定，假设不确定元素个数不超过$\left\lfloor\Gamma_{i}\right\rfloor$个，其中$\left\lfloor\Gamma_{i}\right\rfloor$是大于等于$\Gamma_{i}$的最小整数，并$a_{i j}$的波动范围是$\left(\Gamma_{i}-\left\lfloor\Gamma_{i} |\right) \hat{\pmb{a}}_{i j}\right.$，如果模型满足以上要求，那么模型一定可以求解。即使超 过$\left\lfloor\Gamma_{i}\right\rfloor$个不确定元素，也有很高的概率得到鲁棒解。</p>
<p>Bertsimas和Sim的模型如下：
$$
\begin{align}
\max &amp; \pmb{c^\top} \pmb{x}  \label{BertSim}\\\
\text {s.t. }
&amp;\sum_{j} a_{ij} x_{j} +
\underset{
\{
S_{i} \cup \{ t_{i} \} \mid S_{i} \subseteq J_{i}, \left| S_{i} \right| = \left\lfloor \Gamma_{i} \right\rfloor, t_{i} \in J_{i} \backslash S_{i}
\}
} {\mathop{\max}}
\left\{
\sum_{j\in S_{i}} \hat{a}_{ij}{y_j} +
\left(
\Gamma_i -\left\lfloor \Gamma_i \right\rfloor<br>
\right)
a_{it_i}y_{t_{i}}
\right\}
\leq b_{i} \quad \forall i \notag \\\
&amp;\pmb{1} \leq \pmb{x} \leq \pmb{u} \notag \\\
&amp;-y_{j} \leq x_{j} \leq y_{j}\quad \forall j \notag\\\
&amp;\pmb{y} \geq 0  \notag
\end{align}
$$</p>
<p>当$\Gamma_{i}$为整数时，此时$\Gamma_{i}=\left|\Gamma_{i}\right|$，对第i个约束，有如下形式:</p>
<p>$$
\sum_{j} a_{ij} x_{j} + \underset{
\{ S_{i} \cup \{ t_{i} \} \mid S_{i} \subseteq J_{i}, \left| S_{i} \right| = \left\lfloor \Gamma_{i} \right\rfloor, t_{i}\in J_{i} \backslash S_{i} \}
}{\mathop{\max}}
\left\{ \sum_{j\in S_{i}}{\hat{a}_{ij} y_j} \right\}\leq b_{i}
$$</p>
<p>当$\Gamma_{i}$的值为0时，变量的系数均为标称值，约束变为名义问题（nominal problem）。当$\Gamma_{i}$取最大值$\left\lfloor\Gamma_{i}\right\rfloor$时，此时所有的不确定元素均不为标称值，模型等价于Soyster模型。当$\Gamma_{i}$的值介于最大值和最小值之间变动时，模型的保守度也相应变动。当$\Gamma_{i}$的值为$\Omega_{i} \sqrt{\sum_{j \in J}\left(\hat{a}_{i j}^{2} x_{j}^{2}\right)}$时，约束违背（具体参考<a href="https://pubsonline.informs.org/doi/abs/10.1287/opre.1030.0065?journalCode=opre">Bertsimas and Sim 2004</a>）的概率边界值与Ben-tal一致。因此，当$\Gamma_{i}$的值过小时，鲁棒优化模型保守性差，较大概率发生约束违背。当$\Gamma_{i}$的值过大时，计算结果过于保守。
模型$\eqref{BertSim}$是非线性模型，不能直接求解，Bertsimas和Sim对模型做出了如下转化：
$$
\begin{align}
\max &amp;\quad\pmb{c^\prime} \pmb{x} \label{LP Bertsim}\\\
\text {s.t.} &amp;\sum_{j} a_{i j} x_{j} + z_{i} \Gamma_{i}+\sum_{j \in J_{i}} p_{i j} \leq b_{i} &amp;&amp; \forall i \notag\\\
&amp;{z_{i}+p_{i j} \geq \hat{a}_{i j} y_{j}} &amp;&amp; \forall i, j \in J_{i} \notag\\\
&amp;{\pmb{1} \leq \pmb{x} \leq \pmb{u}}\notag\\\
&amp;{-y_{j} \leq x_{j} \leq y_{j}} &amp;&amp; \forall j \notag\\\
&amp;{\pmb{y} \geq 0} \notag\\\
&amp;{p_{i j} \geq 0} &amp;&amp; \forall i, j \in J_{i} \notag\\\
&amp;{z_{i} \geq 0} &amp;&amp; \forall i \notag
\end{align}
$$
模型转化的理论依据是对偶理论，具体的证明过程在作者稿件中有详细描述，有兴趣的读者可以自行翻阅，这里不再赘述。
在此基础上，Bertsimas和Sim提出了鲁棒离散优化的模型<a href="https://pubsonline.informs.org/doi/abs/10.1287/opre.1030.0065?journalCode=opre">Bertsimas and Sim 2004</a>。
模型$\eqref{Soyster}$的鲁棒对等模型如下所示：
$$
\begin{align}
\max &amp;\quad\pmb{c^\prime} \pmb{x} + \mathop {\max }\limits_{\{ {\left. S_0 \right|S_0 \subseteq J_0,\left| S_0 \right| \leq \Gamma_0} \}} \{ {\sum\limits_{j \in S_0} {d_j\left| x_j \right|} } \} \label{Bertsimas and Sim counterpart}\\\
\text {s.t.} &amp;\sum\limits_{j} a_{i j}x_j+\mathop {\max }\limits_{\{ {\left. {S_i \cup \{ t_i \}} \right|S_i \subseteq J_i,\left| S_i \right| = \left\lfloor \Gamma_i \right\rfloor ,t_i \in J_i\backslash S_i} \}}
\{ {\sum\limits_{j \in S_i} {\hat{a}_{i j}\left| x_j \right| + \left( {\Gamma_i - \left\lfloor {\Gamma_i} \right\rfloor } \right){\hat{a}_{i{t_i}}}\left| x_{t_i} \right|}} \}\le b_{i}&amp;&amp;\forall i \notag\\\
&amp;{\pmb{1} \leq \pmb{x} \leq \pmb{u}} \notag \\\
&amp;{-y_{j} \leq x_{j} \leq y_{j}} &amp;&amp; \forall j \notag\\\
&amp;{\pmb{y} \geq 0}\notag
\end{align}
$$</p>
<p>其中，$\Gamma_{0}$是区间$\left[0, | J_{0} |\right.$内的整数，$J_{0}=\{j | d_{j}&gt;0\}$ $\left|J_{0}\right|$，是$\pmb{c}$中不确定元素的个数。Bertsimas和Sim考虑了目标函数的不确定性，所以有了$\eqref{Bertsimas and Sim counterpart}$中目标函数的表达形式。对于目标函数中的$\pmb{c}$，允许变化的不确定元素有$\Gamma_{0}$个，取值为$\mathop {\pmb{c^\top}}\limits_{j \in S_0}  + \mathop {\max }\limits_{\{ {\left. S_0 \right|S_0 \subseteq J_0,\left| S_0 \right| \leq {\Gamma _0}} \}} \sum\limits_{j \in S_0} d_j $，其余均为标称值。</p>
<p>同样的，模型$\eqref{Bertsimas and Sim counterpart}$也需要经过处理才能求解，处理后的混合整数规划模型如下所示：
$$
\begin{align}
\max &amp;\quad\pmb{c^\prime} \pmb{x} + z_{0} \Gamma_{0}+\sum_{j \in J_{0}} p_{0j} \notag\\\
\text {s.t.} &amp;\sum_{j} a_{i j} x_{j}+z_{i} \Gamma_{i}+\sum_{j \in J_i} p_{i j} \leq b_{i} &amp;&amp; \forall i \notag\\\
&amp;{z_{0}+p_{0j} \geq d_{j} \pmb{y}_{j}} &amp;&amp; \forall i, j \in J_{0}\notag\\\
&amp;{z_{i}+p_{ij} \geq \hat{a}_{ij} \pmb{y}_{j} \quad {\forall i \neq 0, j \in J_{i}}} \notag\\\
&amp;{\pmb{1} \leq \pmb{x} \leq \pmb{u}}\notag\\\
&amp;{-y_{j} \leq x_{j} \leq y_{j}} &amp;&amp; \forall j \notag\\\
&amp;{\pmb{y} \geq 0} \notag\\\
&amp;{p_{i j} \geq 0} &amp;&amp; \forall i, j \in J_{i} \notag\\\
&amp;{z_{i} \geq 0} &amp;&amp; \forall i \notag\\\
&amp;{x_{i} \in Z} &amp;&amp; \forall i=1, \ldots, k \notag
\end{align}
$$</p>
<p>我们以<a href="https://pubsonline.informs.org/doi/abs/10.1287/opre.1030.0065?journalCode=opre">Bertsimas and Sim 2004</a>中的仿真算例进行说明：
$$
\begin{align}
\max &amp;\sum_{i=1}^{n}p_{i}x_{i}-\phi  \sum_{i=1}^{n}\sigma_{i}^{2}x_{i}^{2}\label{example}\\\
\text {s.t.}&amp;\sum_{i=1}^{n}x_{i}=1\notag\\\
&amp; x_{i}\geq 0 \notag
\end{align}
$$
其中，$\sigma_{i}$为$i$类股票回报的标准差，$\phi$是控制风险和回报之间交易的一个参数。
其中，$p_{i}=1.15+i \frac{0.05}{150}, \quad \sigma_{i}=\frac{0.05}{450} \sqrt{2 i n(n+1)}$ 。</p>
<p>这个模型考虑了$n=150$支股票。对第$i$支股票，回报率的期望是$p_i$，标准差是$\sigma_i$。我们用$x_i$定义决策变量代表每支股票的投资比例，并用参数$\phi=5$来平衡投资的回报期望和风险。对于模型$\eqref{example}$，为了便于理解我们可以写为以下形式：
$$
\begin{align}
\max \min_{z \in U} &amp;\sum_{i=1}^{n}\left(p_{i}-\sigma_{i} z_{i}\right) x_{i} \label{example robust}\\\
\text{ s.t. } &amp;\sum_{i=1}^{n} x_{i}=1 \notag\\\
&amp;x_{i} \geq 0 \notag
\end{align}
$$
其中，$z=\phi \sigma x$， $\sigma_{i} z_{i}$可以理解为$p_i$的偏移量，即模型$\eqref{BertSim}$中的$\hat{\mathbf{a}}_{ij}$。因此，模型$\eqref{example robust}$类似模型$\eqref{equation::uncertain opt}$，套用Bertsimas和Sim鲁棒对等模型$\eqref{BertSim}$可得到：
$$
\begin{align}
\max &amp;\quad z \label{example robust 1}\\\
\text {s.t.} &amp; z \leq \sum_{i=1}^{n}p_{i}x_{i}+\underset{\{ \left. S_{i}\cup \{ t_{i} \} \right|{S_{i}}\subseteq J_{i},\left| S_{i} \right|=\left\lfloor \Gamma_{i} \right\rfloor ,t_{i}\in J_{i}\backslash S_{i} \}}{\mathop{\max}},\{ \sum\limits_{j\in S_{i}}{\sigma_{j} x_{j}+\left(\Gamma_{i}-\left\lfloor \Gamma_{i} \right\rfloor  \right)\sigma_{i} x_{t_{i}}} \} \notag\\\
&amp;\sum_{i=1}^{n}x_{i}=1 \notag\\\
&amp; x_{i}\geq 0 \notag
\end{align}
$$
模型$\eqref{example robust 1}$依据模型$\eqref{LP Bertsim}$进行转换，转化后结果如下：
$$
\begin{align}
\max &amp;\quad z \label{example final}\\\
\text {s.t.} &amp; z \leq \sum_{i=1}^{n}p_{i}x_{i}-\left ( \sum_{i=1}^{n}Q_{i}+\Gamma_{i}m_{i}  \right ) \notag\\\
&amp;Q_{i}+m_{i}\geq \sigma_{i}x_{i}\notag\\\
&amp;\sum_{i=1}^{n}x_{i}=1 \notag\\\
&amp;x_{i}\geq 0\notag\\\
&amp;Q_{i}\geq 0\notag\\\
&amp;m_{i}\geq 0\notag
\end{align}
$$
$\eqref{example final}$中的$\Gamma$对应$\eqref{example}$中$\phi$是一个事先给定的常量。我们可以看出$\eqref{example final}$是一个线性模型，可以调用cplex或gurobi来快速求解。当$\Gamma$为5时，函数最优值为1.170。
除此之外,在<a href="https://pubsonline.informs.org/doi/abs/10.1287/opre.1030.0065?journalCode=opre">Bertsimas and Sim 2004</a>中的<strong>Proposition 1</strong>也提到了</p>
<p><img src="/image/ro.png" alt="alt"></p>
<p>等价为以下的线性优化模型：
$$
\begin{align}
\beta_{i}\left(\boldsymbol{x}^{*}, \Gamma_{i}\right)=\text { maximize } &amp; \sum_{j \in J_{i}} \hat{a}_{i j}\left|x_{j}^{*}\right| z_{i j} \notag\\\
\text { subject to} &amp; \sum_{j \in J_{i}} z_{i j} \leq \Gamma_{i} \notag\\\
&amp; 0 \leq z_{i j} \leq 1 \quad \forall j \in J_{i} \notag
\end{align}
$$
在此之前我们已经对模型进行了改写，其实改写的模型即为具有多面体不确定集合的数学模型，模型如下：
$$
\begin{align}{rl}
\max~&amp;\min\limits_{\pmb{z}\in U}\sum\limits_{i=1}^n(p_i - \sigma_i z_i)x_i  \label{example another}\\\
\text{s.t.} &amp;\sum\limits_{i=1}^n x_i = 1\notag \\\
&amp;x_i \geq 0, \forall i = 1, 2, &hellip;, n \notag
\end{align}
$$
在该模型中，随机变量$\pmb{z}$代表实际股票回报率和期望值间的偏差。这个随机被约束在一个预算不确定集（Budget uncertainty set）$\mathcal{U}$中，其表达式如下：
$$
\begin{align}
U = \{\pmb{z}|\ 0\leq z_{i j} \leq 1,  \sum_{j \in J_{i}} z_{i j} \leq \Gamma_{i} \}\rightarrow
U =\{\pmb{z}||\pmb{z}|_{\infty}\leq 1, |\pmb{z}|_1\leq \Gamma\} \notag
\end{align}
$$
对于现有的鲁棒优化问题，已经有成熟的优化工具可以直接求解，对于模型$\eqref{example}$和$\eqref{example another}$都可以直接在rsome（matlab环境下的工具包）进行建模求解，具体内容会在第八章详细介绍。</p>
<p>本算例的相关代码如下（Python3.6环境下调用gurobi的求解，Github地址：https://github.com/Feeling-well/robust-optimization）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="s2">&#34;&#34;&#34;
</span><span class="s2">原始模型不能直接调用求解器求解，但是有如下的等价形式：
</span><span class="s2">    max  z
</span><span class="s2">    s.t. z&lt;=sum(p[i]x[i])-(sum(Q[i])+Γ[i]m[i])
</span><span class="s2">        Q[i]+m[i]&gt;=σ[i]x[i]
</span><span class="s2">        Q[i]&gt;=0
</span><span class="s2">        m[i]&gt;=0
</span><span class="s2">        sum(x[i])=1
</span><span class="s2">        x[i]&gt;=0
</span><span class="s2">Γ是控制风险和回报之间交易的参数，我们这里设置为5
</span><span class="s2">&#34;&#34;&#34;</span>
<span class="kn">from</span> <span class="nn">gurobipy</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="s2">&#34;RO&#34;</span><span class="p">)</span>
    <span class="c1">#添加常量</span>
    <span class="n">sigma</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">p</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">Gamma</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">151</span><span class="p">):</span>
        <span class="n">sigma</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">0.05</span> <span class="o">/</span> <span class="mi">450</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">n</span> <span class="o">*</span> <span class="mi">150</span> <span class="o">*</span> <span class="mi">151</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span><span class="p">)</span>
        <span class="n">p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">1.15</span> <span class="o">+</span> <span class="n">n</span> <span class="o">*</span> <span class="mf">0.05</span> <span class="o">/</span> <span class="mi">150</span><span class="p">)</span>
        <span class="n">Gamma</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># 添加变量</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">addVars</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="n">lb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">addVar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
    <span class="n">Q</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">addVars</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Q&#39;</span><span class="p">)</span>
    <span class="n">mm</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">addVars</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>

    <span class="n">px</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">150</span><span class="p">))</span>
    <span class="n">QC</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">Q</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">150</span><span class="p">))</span>
    
    <span class="c1"># 添加约束</span>
    <span class="n">m</span><span class="o">.</span><span class="n">addConstrs</span><span class="p">((</span><span class="n">z</span> <span class="o">&lt;=</span> <span class="n">px</span> <span class="o">-</span> <span class="n">mm</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">Γ</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">QC</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">150</span><span class="p">)),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">addConstrs</span><span class="p">((</span><span class="n">mm</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">Q</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">sigma</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">150</span><span class="p">)),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;second&#39;</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">addConstr</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">150</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;third&#39;</span><span class="p">)</span>
    
    <span class="n">m</span><span class="o">.</span><span class="n">setObjective</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">GRB</span><span class="o">.</span><span class="n">MAXIMIZE</span><span class="p">)</span> <span class="c1"># 设置目标函数</span>


    <span class="n">m</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&#34;RO.lp&#34;</span><span class="p">)</span> <span class="c1"># 模型打印语句，可以打印成lp文件，便于查看模型是否写错</span>
    <span class="n">m</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span><span class="c1"># 模型求解</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">#变量输出
for v in m.getVars ():
    print (&#39;%s %g&#39; % (v.varName, v.x))

except GurobiError as e:
    print(&#39;Error code &#39; + str(e.errno) + &#34;: &#34; + str(e))

except AttributeError:
    print(&#39;Encountered an attribute error&#39;)
</code></pre></td></tr></table>
</div>
</div>
    </div>

    
    


    
    

    <footer class="post-footer">
      

      
      <nav class="post-nav">
        
          <a class="prev" href="/RoSite/post/2.%E6%A6%82%E8%A7%88/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">概览（Overview）</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/RoSite/post/4.%E5%88%86%E5%B8%83%E9%B2%81%E6%A3%92%E4%BC%98%E5%8C%96/">
            <span class="next-text nav-default">分布鲁棒优化（Distributionally robust optimization）</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  

    

  

  <div id="remark42"></div>

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:operations_r@163.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/Operations-Research-Science" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://www.zhihu.com/org/yun-chou-orwei-wo" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>
  
    <a href="https://space.bilibili.com/403058474" rel="me noopener" class="iconfont"
      title="bilibili"  target="_blank"
      >
      <svg
  class="icon" style="" viewBox="0 0 1024 1024" version="1.1" width="36"
  height="36" id="svg8">
  <path
      style=""
      d="M 744.60599,0.00486267 A 41.779915,41.779915 0 0 0 710.4184,18.673394 L 548.5048,255.32642 h -11.70046 a 41.779915,41.779915 0 0 0 -10.80295,-7.84928 L 235.66,97.084498 a 41.779915,41.779915 0 0 0 -20.07193,-4.960864 41.779915,41.779915 0 0 0 -18.3748,79.145436 L 359.4859,255.32642 H 128.16909 c -49.458302,0 -89.27932,39.82105 -89.27932,89.27932 v 508.65224 c 0,49.4583 39.821018,89.27934 89.27932,89.27934 h 19.48445 C 149.12802,984.5043 179.92773,1024 224.79179,1024 c 44.86407,0 75.66379,-39.4957 77.13826,-81.46268 H 719.98116 C 721.45559,984.5043 752.25533,1024 797.1194,1024 c 44.86406,0 75.6638,-39.4957 77.13824,-81.46268 h 21.57323 c 49.45831,0 89.27936,-39.82104 89.27936,-89.27934 V 344.60574 c 0,-49.45827 -39.82105,-89.27932 -89.27936,-89.27932 H 649.74567 L 779.38103,65.866924 A 41.779915,41.779915 0 0 0 744.60599,0.00486267 Z M 644.49108,418.70871 c 6.29985,0.21538 12.44451,2.01107 17.86888,5.22196 l 171.36218,98.10771 c 18.23417,10.21935 24.63334,33.34627 14.24614,51.48533 -10.38726,18.13909 -33.57344,24.32718 -51.61587,13.77296 L 624.9903,489.18895 c -15.21356,-8.41858 -22.66871,-26.1765 -18.03211,-42.93436 4.63664,-16.75784 20.15573,-28.14465 37.53289,-27.54588 z M 350.2006,432.31846 c 16.89952,0.0317 31.69582,11.33328 36.17844,27.62747 4.48262,16.2942 -2.44981,33.57765 -16.95507,42.24898 l -140.7157,86.91312 c -17.68528,11.18244 -41.09629,5.77692 -52.08912,-12.02686 -10.99282,-17.80373 -5.33855,-41.15658 12.58167,-51.95857 L 329.9002,438.2095 c 6.0643,-3.86439 13.10951,-5.90891 20.3004,-5.89104 z M 501.605,641.53985 c 3.75002,-0.15248 7.48645,0.53903 10.93349,2.0235 0.15842,0.0637 0.31618,0.12888 0.47325,0.19582 0.59328,0.27092 1.17574,0.56489 1.74609,0.88121 0.15868,0.0854 0.31643,0.17233 0.47325,0.2611 0.55694,0.32165 1.10131,0.66458 1.63185,1.02807 0.16455,0.1123 0.32777,0.2265 0.48956,0.34269 0.50382,0.36781 0.99371,0.75428 1.46868,1.15864 0.18724,0.15504 0.37218,0.31282 0.55484,0.47323 0.43271,0.38784 0.8518,0.79061 1.25653,1.20756 0.15449,0.16114 0.30679,0.32437 0.45693,0.48959 0.40798,0.44266 0.79989,0.89988 1.17494,1.37076 0.17799,0.22544 0.35205,0.45395 0.5222,0.68538 0.25932,0.34701 0.50964,0.70071 0.75064,1.06071 0.26712,0.39516 0.52286,0.79784 0.76699,1.20757 0.16907,0.29043 0.33231,0.58424 0.48957,0.88123 0.21836,0.41297 0.42513,0.83199 0.62009,1.25653 0.14836,0.32333 0.28983,0.64976 0.42429,0.97911 0.21319,0.51552 0.40915,1.03801 0.58747,1.5666 0.0677,0.19499 0.13296,0.39085 0.19582,0.58748 0.18652,0.60823 0.34984,1.22334 0.48957,1.84399 0.0397,0.16277 0.0779,0.32601 0.11423,0.48957 0.1436,0.69112 0.25788,1.38801 0.34269,2.08877 0.005,0.0381 0.0111,0.0761 0.0163,0.11424 0.0857,0.78056 0.13474,1.56471 0.14687,2.34988 0.005,0.0543 0.0111,0.10879 0.0163,0.1632 0,0 -0.008,1.12132 0,1.45234 0,0 -0.14697,17.84761 5.89102,34.12231 3.01902,8.13734 7.33278,15.10615 12.61433,19.61501 5.28157,4.50889 11.42894,7.62081 23.64572,7.62081 12.2168,0 18.36416,-3.11192 23.64573,-7.62081 5.28154,-4.50886 9.5953,-11.47767 12.6143,-19.61501 6.03799,-16.2747 5.89103,-34.12231 5.89103,-34.12231 -0.44885,-13.87045 10.45922,-25.46302 24.3311,-25.86506 13.87189,-0.40201 25.42828,10.53953 25.78348,24.41272 0,0 1.11929,25.7226 -9.00791,53.01927 -5.06359,13.64832 -13.1986,28.46036 -27.05631,40.29073 -13.85772,11.83039 -33.5454,19.63135 -56.20142,19.63135 -22.65603,0 -42.34371,-7.80096 -56.20141,-19.63135 -4.1801,-3.56856 -7.78733,-7.42433 -10.99878,-11.42303 -3.21235,4.00037 -6.81703,7.85309 -10.99876,11.42303 -13.85773,11.83039 -33.5454,19.63135 -56.20144,19.63135 -22.65601,0 -42.3437,-7.80096 -56.2014,-19.63135 -13.85775,-11.83037 -21.99272,-26.64241 -27.05632,-40.29073 -10.12725,-27.29667 -9.00789,-53.01928 -9.00789,-53.01927 0.20714,-13.83687 11.58744,-24.88848 25.42444,-24.69013 14.1263,0.19991 25.2971,12.0278 24.69011,26.14247 0,0 -0.14697,17.84761 5.89103,34.12231 3.01902,8.13734 7.31646,15.10615 12.598,19.61501 5.28155,4.50889 11.44526,7.62081 23.66203,7.62081 12.21681,0 18.36418,-3.11192 23.64573,-7.62081 5.28154,-4.50886 9.57899,-11.47767 12.598,-19.61501 5.76352,-15.53489 5.89112,-32.05691 5.89103,-33.56746 0.006,-0.37466 0.0111,-1.05336 0.0163,-1.20759 -0.0117,-0.74583 0.0105,-1.49177 0.0652,-2.23565 0.009,-0.15784 0.0204,-0.31561 0.0327,-0.47324 0.14204,-1.56859 0.43163,-3.12027 0.86487,-4.63449 0.0213,-0.0763 0.0433,-0.15244 0.0652,-0.22848 3.0335,-10.25748 12.24157,-17.46007 22.92769,-17.93417 z"
      id="rect824"/>
</svg>

    </a>


<a href="https://allenz-me.github.io/RoSite/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
  
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2017 -
    2022
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        运筹OR帷幄
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/RoSite/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/RoSite/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/RoSite/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/RoSite/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/RoSite/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/RoSite/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











<script>
  var remark_config = {
    host: 'https:\/\/remark42.example.com',
    site_id: 'remark',
    components: [
	    'embed',
    ],
  }
  !function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);
</script>







<script>
  if (typeof MathJax === 'undefined') {
      window.MathJax = {
          loader: {
              load: ['[tex]/mhchem']
          },
          
          tex: {
              inlineMath: {'[+]': [['$', '$']]},
              tags: 'ams',
              packages: {'[+]': ['mhchem']}
          }
      };
      (function() {
          var script = document.createElement('script');
          script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js';
          script.defer = true;
          document.head.appendChild(script);
      })();
  } else {
      MathJax.texReset();
      MathJax.typeset();
  }
</script>

</body>
</html>
